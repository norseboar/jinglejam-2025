[gd_scene load_steps=7 format=3 uid="uid://cg53b4gbp6rni"]

[ext_resource type="Script" uid="uid://chgenhlxknc" path="res://scripts/game.gd" id="1_yqjtg"]
[ext_resource type="PackedScene" uid="uid://bghtokhkny88a" path="res://scenes/units/swordsman.tscn" id="2_iywne"]
[ext_resource type="PackedScene" uid="uid://cpp8nrk1v2n70" path="res://scenes/units/archer.tscn" id="3_p57ef"]
[ext_resource type="PackedScene" uid="uid://xmwvmvin0jlw" path="res://scenes/units/enemy.tscn" id="4_u5sy4"]
[ext_resource type="Texture2D" uid="uid://qguwsk400gqy" path="res://assets/backgrounds/chess_table.jpg" id="5_p57ef"]
[ext_resource type="PackedScene" uid="uid://c0d47vd87vlmt" path="res://scenes/ui/hud.tscn" id="6_p57ef"]

[node name="Game" type="Control" node_paths=PackedStringArray("background_rect", "gameplay", "level_container", "player_units", "enemy_units", "hud") groups=["game"]]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_yqjtg")
swordsman_scene = ExtResource("2_iywne")
archer_scene = ExtResource("3_p57ef")
enemy_scene = ExtResource("4_u5sy4")
starting_unit_scenes = Array[PackedScene]([ExtResource("3_p57ef"), ExtResource("3_p57ef"), ExtResource("2_iywne"), ExtResource("2_iywne")])
background_rect = NodePath("BackgroundRect")
gameplay = NodePath("SubViewportContainer/SubViewport/Gameplay")
level_container = NodePath("")
player_units = NodePath("SubViewportContainer/SubViewport/Gameplay/PlayerUnits")
enemy_units = NodePath("SubViewportContainer/SubViewport/Gameplay/EnemyUnits")
hud = NodePath("SubViewportContainer/SubViewport/UI/HUD")

[node name="BackgroundRect" type="TextureRect" parent="."]
texture_filter = 2
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("5_p57ef")
expand_mode = 3

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
transparent_bg = true
handle_input_locally = false
size = Vector2i(1280, 720)
size_2d_override = Vector2i(640, 360)
size_2d_override_stretch = true
render_target_update_mode = 4

[node name="UI" type="CanvasLayer" parent="SubViewportContainer/SubViewport"]

[node name="HUD" parent="SubViewportContainer/SubViewport/UI" instance=ExtResource("6_p57ef")]
offset_right = 0.0
offset_bottom = 0.0
mouse_filter = 1

[node name="Gameplay" type="Node2D" parent="SubViewportContainer/SubViewport"]

[node name="PlayerUnits" type="Node2D" parent="SubViewportContainer/SubViewport/Gameplay"]
y_sort_enabled = true

[node name="EnemyUnits" type="Node2D" parent="SubViewportContainer/SubViewport/Gameplay"]
y_sort_enabled = true
